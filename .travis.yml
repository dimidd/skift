language: python
python:
  - '3.5'
  - '3.6'
env:
  - TO_RUN=TESTS
  - TO_RUN=BUILD
# notifications:
#   email:
#     on_success: change
#     on_failure: always
before_install:
  # - pip install cython
  # - pip install numpy pandas scipy
  # - git clone https://github.com/facebookresearch/fastText.git
  # - cd fastText
  # - pip install .
  # - cd ..
  # - pip install scikit-learn
  - pip install codecov
install:
  -- if [ "$TO_RUN" = "TESTS" ]; then 
       pip install ".[test,fasttext]" --process-dependency-links 
     fi
  -- if [ "$TO_RUN" = "BUILD" ]; then 
       pip install "skift[fasttext]" --process-dependency-links
     fi
script: pytest
after_success:
  - codecov
